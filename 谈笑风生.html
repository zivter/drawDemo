<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<style>
			*{margin: 0;padding: 0;}
			body {width: 100%;height: 100%;position: relative;}
			#can{width: 100%;height:800px;}
			#btn{height: 50px;border-bottom: 1px solid #666;overflow: hidden;}
			#cle{margin: 15px 0 0 15px;float: left;}
			#rg{margin: 15px 0 0 5px;float: left;}
			#huabi{float: left;font:12px/50px "";margin-left: 15px;}
			#cl{float: left;margin:15px 0 0 15px;}
			a{float: left;font:18px/50px "";margin-left: 15px;}
		</style>
	</head>

	<body>
		<div id="btn">
			<button id="cle" onclick="cle()">清屏</button>
			<span id="huabi">画笔大小:</span>
			<input type="range" id="rg" min="1" max="15" />
			<input type="color" id="cl"/>
			<a href="index.html">西方记者</a>
		</div>
		<div id="can"></div>
		
		<script>	
			var canvas = document.createElement("canvas");
			document.getElementById("can").appendChild(canvas);
			canvas.style.backgroundColor = "white";
			canvas.width = window.innerWidth;
			canvas.height = 800;
			var context = canvas.getContext("2d");
			var particles = [];
			var timer;
			
			//清屏
			function cle(){
				particles = [];
				context.clearRect(0,0,canvas.width,canvas.height);
				console.log(1)
			}
			
			//画笔
			function hua() {
				timer = setInterval(function() {
					var part = new bi(xx, yy);
					particles.push(part);
					for(var i = 0; i < particles.length; i++) {
						//更新粒子的位置
						particles[i].draw();
					}
				}, 1)
			}
			
			//画一个点
			function bi(xbi, ybi) {
				this.xbi = xbi;
				this.ybi = ybi;
				var rg = document.getElementById("rg").value;
				var cl = document.getElementById("cl").value;
				//把画点封装成对象
				this.draw = function() {
					context.beginPath();
					context.arc(this.xbi, this.ybi, rg, 0, Math.PI * 2, false);
					context.closePath();
					context.fillStyle = cl;
					context.fill();
				};
			}
			
			//鼠标动作
			var xx;
			var yy;
			document.onmousedown = function(ev) {
				hua();
				document.onmousemove = function(ev) {
					xx = ev.clientX;
					yy = ev.clientY-50;
				}
			}
			document.onmouseup = function(ev) {
				clearInterval(timer);
			}
			
		</script>
	</body>

</html>